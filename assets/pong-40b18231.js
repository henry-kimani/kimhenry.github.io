import"./modulepreload-polyfill-3cfb730f.js";const g=.025,E=1e-5;class w{constructor(t){this.ballElem=t,this.reset()}get x(){return parseFloat(getComputedStyle(this.ballElem).getPropertyValue("--x"))}set x(t){this.ballElem.style.setProperty("--x",t)}get y(){return parseFloat(getComputedStyle(this.ballElem).getPropertyValue("--y"))}set y(t){this.ballElem.style.setProperty("--y",t)}rect(){return this.ballElem.getBoundingClientRect()}reset(){for(this.x=50,this.y=50,this.direction={x:0,y:0};Math.abs(this.direction.x)<=.2||Math.abs(this.direction.y)>=.9;){const t=M(0,2*Math.PI);this.direction={x:Math.cos(t),y:Math.sin(t)}}this.velocity=g}update(t,o){this.x+=this.direction.x*this.velocity*t,this.y+=this.direction.y*this.velocity*t,this.velocity+=E*t;const s=this.rect();(s.bottom>=window.innerHeight||s.top<=0)&&(this.direction.y*=-1),o.some(p=>f(p,s))&&(this.direction.x*=-1)}}function f(e,t){return e.left<=t.right&&e.right>=t.left&&e.top<=t.bottom&&e.bottom>=t.top}function M(e,t){return Math.random()*(t-e)+e}const L=.02;class m{constructor(t){this.paddleElem=t}get position(){return parseFloat(getComputedStyle(this.paddleElem).getPropertyValue("--position"))}set position(t){this.paddleElem.style.setProperty("--position",t)}rect(){return this.paddleElem.getBoundingClientRect()}reset(){this.position=50}update(t,o){this.position+=L*t*(o-this.position)}}const n=new w(document.getElementById("ball")),d=new m(document.getElementById("player-paddle")),c=new m(document.getElementById("computer-paddle")),i=document.getElementById("player-score"),r=document.getElementById("computer-score"),a=document.querySelector("dialog"),I=document.querySelector("[data-start");let u=0,l;function h(e){if(l!=null){const t=e-l;n.update(t,[d.rect(),c.rect()]),c.update(t,n.y);const o=parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--hue"));if(document.documentElement.style.setProperty("--hue",o+t*.01),P()&&x(),u==3){y("GAME OVER");return}}l=e,window.requestAnimationFrame(h)}y();function P(){const e=n.rect();return e.right>=window.innerWidth||e.left<=0}function x(){const e=n.rect();n.reset(),c.reset(),e.right>=window.innerWidth&&(i.innerHTML=parseInt(i.textContent)+1),e.left<=0&&(r.textContent=parseInt(r.textContent)+1,u++)}document.addEventListener("mousemove",e=>{console.log("Mouse: "+e),d.position=e.y/window.innerHeight*100});document.addEventListener("touchmove",e=>{console.log("Touchmove: "+e),d.position=e.y/window.innerHeight*100});function y(e){e&&(document.querySelector("#message").innerHTML=e),document.querySelector(".user").innerHTML=i.innerHTML,document.querySelector(".computer").innerHTML=r.innerHTML,u=0,i.innerHTML="0",r.innerHTML="0",a.showModal(),I.onclick=()=>{a.close(),window.requestAnimationFrame(h)}}
