import"./modulepreload-polyfill-3cfb730f.js";const P=document.querySelector("[data-bird]"),g=.3;let w=125,a=Number.POSITIVE_INFINITY;function S(){document.removeEventListener("keydown",r),document.removeEventListener("touchstart",r),document.addEventListener("keydown",r),document.addEventListener("touchstart",r),p(window.innerHeight/2)}function I(e){a<w?p(E()-g*e):p(E()+g*e),a+=e}function T(){return P.getBoundingClientRect()}function p(e){P.style.setProperty("--bird-top",e)}function E(){return parseFloat(getComputedStyle(P).getPropertyValue("--bird-top"))}function r(e){if(e.pointerType=="mouse")return console.log(e,"mouse touched");a=0}const C=document.querySelector("[data-bird]");let n=[],h=0;const m=1500;let d=0,H=.75,s,y;function R(){document.documentElement.style.setProperty("--pipe-width",h),document.documentElement.style.setProperty("--hole-height",d),n.forEach(e=>e.remove()),y=0,s=m}function B(e){s+=e,s>m&&(s-=m,A()),n.forEach(t=>{if(t.left+h<0)return y++,t.remove();t.left=t.left-e+H})}function q(){return y}function F(){return n.flatMap(e=>e.rect())}function _(){const e=parseFloat(getComputedStyle(C).getPropertyValue("--bird-size"));d=e*2.5,h=e*1.2}function A(){const e=document.createElement("div"),t=b("top"),c=b("bottom");e.append(t),e.append(c),e.classList.add("pipe"),e.style.setProperty("--hole-top",N(d*1.5,window.innerHeight-d));const o={get left(){return parseFloat(getComputedStyle(e).getPropertyValue("--pipe-left"))},set left(l){e.style.setProperty("--pipe-left",l)},remove(){n=n.filter(l=>l!==o),e.remove()},rect(){return[t.getBoundingClientRect(),c.getBoundingClientRect()]}};o.left=window.innerWidth,document.body.append(e),n.push(o)}function b(e){const t=document.createElement("div");return t.classList.add("segment",e),t}function N(e,t){return Math.abs(Math.floor(Math.random()*(t-e+1)+e))}document.body.addEventListener("keypress",u,{once:!0});document.body.addEventListener("touchstart",u,{once:!0});const v=document.querySelector("[data-title]"),L=document.querySelector("[data-subtitle]");let i;function f(e){if(i==null){i=e,window.requestAnimationFrame(f);return}const t=e-i;if(I(t),B(t),W())return D();i=e,window.requestAnimationFrame(f)}function W(){const e=T(),t=F().some(o=>k(e,o));return e.top<0||e.bottom>window.innerHeight||t}function k(e,t){return e.left<t.right&&e.top<t.bottom&&e.right>t.left&&e.bottom>t.top}function u(){v.classList.add("hide"),_(),S(),R(),i=null,window.requestAnimationFrame(f)}function D(){setTimeout(()=>{v.classList.remove("hide"),L.classList.remove("hide"),L.textContent=`${q()} Pipes Passed`,document.body.addEventListener("keypress",u,{once:!0}),document.body.addEventListener("touchstart",u,{once:!0})},500)}
